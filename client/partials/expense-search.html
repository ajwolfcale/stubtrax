<header>
  <div ng-include="'partials/navBar.html'"></div>
</header>

<h1>My Expenses</h1>
<div class="filter-div">
  <img src="images/filter.png" class="filter-btn" type="button" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
  <label class="filter-label filter-btn" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">Filters</label>
</div>



<div class="form-div collapse" id="collapseExample">
  <form>
    <div class="form-group">
      <div class="col-sm-10">
        <label>From:</label>
        <input name="date" ng-model="expense.date1" type="date" class="form-control" placeholder="From..." required pattern="(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))">
      </div>
    </div>

    <div class="form-group">
      <div class="col-sm-10">
        <label>To:</label>
        <input name="date" ng-model="expense.date2" type="date" class="form-control" placeholder="To..." required pattern="(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))">
      </div>
    </div>

    <div class="col-sm-10">
      <div class="form-group">
        <label>Select a category</label>
        <select name="category_id" ng-model="expense.category_id" class="form-control" id="exampleFormControlSelect1" required>
          <option value="4">Car Maintenance</option>
          <option value="15">Clothing</option>
          <option value="7">Education</option>
          <option value="6">Entertainment</option>
          <option value="11">Fuel</option>
          <option value="3">Groceries</option>
          <option value="10">Gym Membership</option>
          <option value="1">Home</option>
          <option value="8">Insurance</option>
          <option value="14">Networking</option>
          <option value="13">Office Supplies</option>
          <option value="9">Phone</option>
          <option value="5">Restaurants</option>
          <option value="12">Travel</option>
          <option value="2">Utilities</option>
          <option value="16">Other</option>
        </select>
      </div>
    </div>

    <div class="check-div">
      <div class="check-box form-group form-check">
        <input ng-model="expense.business" type="checkbox" name="writeOffSearch" class="form-check-input" value="true" name="writeoff">
        <label class="form-check-label">Tax Write-Off</label>
      </div>

      <div class="check-box form-group form-check">
        <input ng-model="expense.writeoff" type="checkbox" name="writeOffSearch" class="form-check-input" value="true" name="business">
        <label class="form-check-label">Business Expense</label>
      </div>
    </div>

    <button ng-click="searchForExpenses()" class="receiptBtn">Search</button>
  </form>
</div>
</div>


<div ng-init="loadAllExpenses()">
  <div class="expense-container">
    <div class="expenseCard" ng-repeat="expense in expenses">
      <div>
        <p>Merchant: {{expense.merchant}}</p>
        <p>Date: {{expense.date}}</p>
        <p>Total: ${{expense.total}}</p>
        <p>Comments: {{expense.notes}}</p>
      </div>
      <div>
        <img class="big-thumb" ng-src={{expense.receipt}} alt="poster for expense.receipt">
      </div>
    </div>
  </div>
</div>

<!-- TODO:----------------DEMO:---------------- 
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<button class="btn" ng-click="searchForExpenses()">search for expenses</button> 
<br>
<br>
<button class="btn" ng-click="searchExpenseDate()">search for expenses between dates</button>
<br>
<br>
<button class="btn" ng-click="searchExpenseWriteoffs()">search for writeoffs between dates</button>
<br>
<br>
<button class="btn" ng-click="searchBusinessExpenses()">search for business expenses between dates</button>
<br>
<br>
<button class="btn" ng-click="searchBusinessWriteoffs()">search for business writeoffs between dates</button>
<br>
<br>
<button class="btn" ng-click="searchExpCats()">search for categories between dates</button>
<br>
<br>
<button class="btn" ng-click="searchCatWriteOffs()">search for categories between dates that are tax write-offs</button>
<br>
<br>
<button class="btn" ng-click="searchBizCats()">search for exp by category that are business expenses</button>
<br>
<br>
<button class="btn" ng-click="searchBizWriteCats()">search for exp by category that are business / tax writeoffs</button>
 -->